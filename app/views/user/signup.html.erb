<div class="container" >
  <div class="row justify-content-center align-items-center" style="padding-top:7%">
    <%= form_with scope: :user, url: save_user_details_path, method: :get, local: true, class: "col-6" do |form| %>
      <div class="border bg-light" style="padding:7% 7% 7% 7%">
        <div class="form-group">
          <h3 class="font-weight-bold">Register</h3>
        </div>

        <%= fields_for User.new do |f| %>
          <div class="form-group">
            <%= f.label :email, 'Email' %>
            <%= f.text_field :email, class: "form-control", :required => true %>
          </div>
          
          <div class="form-group">
            <%= f.label :password, 'Password' %>
            <%= f.password_field :password, class: "form-control", :required => true %>
          </div>

          <div class="form-group">
            <%= f.label :first_name, 'First Name' %>
            <%= f.text_field :first_name, class: "form-control", :required => true %>
          </div> 

          <div class="form-group">
            <%= f.label :last_name, 'Last Name' %>
            <%= f.text_field :last_name, class: "form-control", :required => true %>
          </div>

          <%= f.fields_for :addresses, Address.new do |address_attributes|%>
          
            <div class="form-group">
              <%= address_attributes.label :address1, 'Address1' %>
              <%= address_attributes.text_field :address1, class: "form-control", :required => true %>
            </div>

            <div class="form-group">
              <%= address_attributes.label :address2, 'Address2' %>
              <%= address_attributes.text_field :address2, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= address_attributes.label :address3, 'Address3' %>
              <%= address_attributes.text_field :address3, class: "form-control" %>
            </div>

            <div class="form-group">
              <%= address_attributes.label :post_code, 'Post Code' %>
              <%= address_attributes.text_field :post_code, class: "form-control", :required => true %>
            </div>

          <% end %>

          <div class="form-group">
            <%= f.label :phone_number, 'Phone Number' %>
            <%= f.text_field :phone, class: "form-control", :required => true %>
          </div>
       <% end %>
        
          <div class="form-group">
            <%= link_to 'Already have an account', user_login_path %>
            <%= form.submit 'Register', class: "btn btn-primary float-right"%>
          </div>
      </div>

    <% end %>
  </div>
</div>